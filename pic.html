<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Images &mdash; FFPyPlayer 4.0.dev0 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '4.0.dev0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="FFPyPlayer 4.0.dev0 documentation" href="index.html" />
    <link rel="up" title="The FFPyPlayer API" href="api.html" />
    <link rel="next" title="Tools" href="tools.html" />
    <link rel="prev" title="Writer" href="writer.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="images">
<span id="pic-api"></span><h1>Images<a class="headerlink" href="#images" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-ffpyplayer.pic">
<span id="ffpyplayer-pic"></span><h2><a class="reference internal" href="#module-ffpyplayer.pic" title="ffpyplayer.pic"><code class="xref py py-mod docutils literal"><span class="pre">ffpyplayer.pic</span></code></a><a class="headerlink" href="#module-ffpyplayer.pic" title="Permalink to this headline">¶</a></h2>
<div class="section" id="ffmpeg-based-image-storage-and-conversion-tools">
<h3>FFmpeg based image storage and conversion tools<a class="headerlink" href="#ffmpeg-based-image-storage-and-conversion-tools" title="Permalink to this headline">¶</a></h3>
<p>FFmpeg based classes to store and convert images from / to many different pixel
formats. See <a class="reference internal" href="#ffpyplayer.pic.Image" title="ffpyplayer.pic.Image"><code class="xref py py-class docutils literal"><span class="pre">Image</span></code></a> and <a class="reference internal" href="#ffpyplayer.pic.SWScale" title="ffpyplayer.pic.SWScale"><code class="xref py py-class docutils literal"><span class="pre">SWScale</span></code></a> for details.</p>
<p>Create an image in rgb24 format:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">100</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">size</span> <span class="o">=</span> <span class="n">w</span> <span class="o">*</span> <span class="n">h</span> <span class="o">*</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">buf</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">([</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="mi">255</span> <span class="o">/</span> <span class="n">size</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">plane_buffers</span><span class="o">=</span><span class="p">[</span><span class="n">buf</span><span class="p">],</span> <span class="n">pix_fmt</span><span class="o">=</span><span class="s1">&#39;rgb24&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>
</pre></div>
</div>
<p>Convert the image to a different size:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sws</span> <span class="o">=</span> <span class="n">SWScale</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">img</span><span class="o">.</span><span class="n">get_pixel_format</span><span class="p">(),</span> <span class="n">ow</span><span class="o">=</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">oh</span><span class="o">=</span><span class="n">h</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span> <span class="o">=</span> <span class="n">sws</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span><span class="o">.</span><span class="n">get_size</span><span class="p">()</span>
<span class="go">(250, 33)</span>
</pre></div>
</div>
<p>Convert the image to YUV420P and get the resulting plane buffers as bytearrays:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sws</span> <span class="o">=</span> <span class="n">SWScale</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">img</span><span class="o">.</span><span class="n">get_pixel_format</span><span class="p">(),</span> <span class="n">ofmt</span><span class="o">=</span><span class="s1">&#39;yuv420p&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span> <span class="o">=</span> <span class="n">sws</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span><span class="o">.</span><span class="n">get_pixel_format</span><span class="p">()</span>
<span class="go">&#39;yuv420p&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">planes</span> <span class="o">=</span> <span class="n">img2</span><span class="o">.</span><span class="n">to_bytearray</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="n">planes</span><span class="p">)</span>
<span class="go">[50000, 12500, 12500, 0]</span>
</pre></div>
</div>
<p>Create an Image using default FFmpeg buffers:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">pix_fmt</span><span class="o">=</span><span class="s1">&#39;rgb24&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>
</pre></div>
</div>
<p>Copy the image:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">copy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># copy reference without actually copying the buffers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># do deep copy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="ffpyplayer.pic.Image">
<em class="property">class </em><code class="descclassname">ffpyplayer.pic.</code><code class="descname">Image</code><a class="headerlink" href="#ffpyplayer.pic.Image" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Stores a image using a specified pixel format.</p>
<p>An Image can be represented by many different pixel formats, which determines
how the buffer representing it is stored. We store the buffers as one to
four arrays of bytes representing the one to four planes. For example,
RGB23 has all the data in the first plane in the form of RGBRGB... while
YUV420P uses the first three planes.</p>
<p>The Image can be initialized with a list of the plane buffers, or internal
buffers can be created when none are provided. Depending on how it&#8217;s initialized
one or more params need to be specified.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Paramters:</th><td class="field-body"><dl class="first last docutils">
<dt><cite>plane_buffers</cite>: list</dt>
<dd><p class="first">A list of bytes or bytearray type objects representing the 1-4 planes.
The number of planes is determined by <code class="docutils literal"><span class="pre">pix_fmt</span></code> (e.g. 1 for RGB24,
3 for yuv). The length of the bytes object in each plane is a function
of <code class="docutils literal"><span class="pre">size</span></code>, and if provided, also <code class="docutils literal"><span class="pre">linesize</span></code>. See <code class="docutils literal"><span class="pre">linesize</span></code> for details.
The buffers are used directly without making any copies therefore, the
bytes objects are kept alive internally as long as this instance is alive.</p>
<p class="last">If empty, internal buffers for the image will be created for the image.</p>
</dd>
<dt><cite>pix_fmt</cite>: str</dt>
<dd><p class="first last">The pixel format of the image. Can be one of <a class="reference internal" href="tools.html#ffpyplayer.tools.pix_fmts" title="ffpyplayer.tools.pix_fmts"><code class="xref py py-attr docutils literal"><span class="pre">ffpyplayer.tools.pix_fmts</span></code></a>.
Must be provided when using <code class="docutils literal"><span class="pre">plane_buffers</span></code>.</p>
</dd>
<dt><cite>size</cite>: 2-tuple of ints</dt>
<dd><p class="first last">The size of the frame in the form of (width, height).
Must be provided when using <code class="docutils literal"><span class="pre">plane_buffers</span></code>.</p>
</dd>
<dt><cite>linesize</cite>: list of ints</dt>
<dd><p class="first last">The linesize of each provided plane. In addition to the width of the frame,
a linesize can be provided. The <code class="docutils literal"><span class="pre">linesize</span></code> represent the actual number of
bytes in each line, and may be padded at the end to satisfy some alignment
requirement. For example, a RGB24 frame of size <code class="docutils literal"><span class="pre">(100,</span> <span class="pre">10)</span></code> will have
<code class="docutils literal"><span class="pre">3</span> <span class="pre">*</span> <span class="pre">100</span> <span class="pre">=</span> <span class="pre">300</span></code> bytes in each horizontal line and will be 3000 bytes large.
But, when 32 bit alignment is required, the buffer will have to padded at the
end so that each line is 320 bytes, and the total buffer length is 3200 bytes.
If <code class="docutils literal"><span class="pre">linesize</span></code> is provided, it must be provided for every valid plane.
If it&#8217;s not provided, an alignment of 1 (i.e. no alignment) is assumed.
See <a class="reference internal" href="#ffpyplayer.pic.Image.get_buffer_size" title="ffpyplayer.pic.Image.get_buffer_size"><code class="xref py py-meth docutils literal"><span class="pre">get_buffer_size()</span></code></a> for more details.</p>
</dd>
<dt><cite>no_create</cite>: bool</dt>
<dd><p class="first last">A optional argument, which if provided with True will just create the instance
and not initialize anything. All other parameters are ignored when True.
This is useful when instantiating later from cython with the <code class="docutils literal"><span class="pre">cython_init</span></code> method.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p><strong>Copying</strong></p>
<p>FFmpeg has an internal ref counting system where when used, it frees buffers
it allocated only when there&#8217;s no reference to it remaining thereby allowing
multiple images to use the same buffer without making copies. When the
Image class allocates the image buffers, e.g. when <code class="docutils literal"><span class="pre">plane_buffers</span></code> is empty
such reference buffers are created. As a consequence, when copying the Image
object, the buffers will not have to be copied.</p>
<p>Using the python copy module you can do a <strong>shallow</strong> or a <strong>deep</strong> copy of
the object. When doing a <strong>shallow</strong> copy, new buffers will be created if the
original buffers were not FFmpeg created and referenced, e.g. if provided
using <code class="docutils literal"><span class="pre">plane_buffers</span></code>. This is to ensure the buffers won&#8217;t
go out of memory while in use.</p>
<p>After the copy, the buffers will be &#8220;referenced&#8221; and additional copies will
create more references without copying the buffers.
A <strong>deep</strong> copy, however, will always create a new referenced buffer.
The function <a class="reference internal" href="#ffpyplayer.pic.Image.is_ref" title="ffpyplayer.pic.Image.is_ref"><code class="xref py py-meth docutils literal"><span class="pre">is_ref()</span></code></a> indicates whether the image buffer is such a
FFmpeg referenced buffer.</p>
<p>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">480</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">size</span> <span class="o">=</span> <span class="n">w</span> <span class="o">*</span> <span class="n">h</span> <span class="o">*</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">buf</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">([</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="mi">255</span> <span class="o">/</span> <span class="n">size</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">plane_buffers</span><span class="o">=</span><span class="p">[</span><span class="n">buf</span><span class="p">],</span> <span class="n">pix_fmt</span><span class="o">=</span><span class="s1">&#39;rgb24&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">pix_fmt</span><span class="o">=</span><span class="s1">&#39;rgb24&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>
</pre></div>
</div>
<dl class="method">
<dt id="ffpyplayer.pic.Image.get_buffer_size">
<code class="descname">get_buffer_size</code><span class="sig-paren">(</span><em>self</em>, <em>keep_align=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ffpyplayer.pic.Image.get_buffer_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the size of the buffers of each plane.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><cite>keep_align</cite>: bool</dt>
<dd><p class="first last">If True, the linesize alignments of the actual image will be used to
calculate the buffer size for each plane. If False, an alignment of 1
(i.e. no alignment) will be used, returning the minimal buffer size
required to store the image. Defaults to False.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><dl class="docutils">
<dt>4-tuple of ints:</dt>
<dd><p class="first last">A list of buffer sizes for each plane of this pixel format.</p>
</dd>
</dl>
</p>
</td>
</tr>
</tbody>
</table>
<p>A (unaligned) yuv420p image has 3 planes:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">pix_fmt</span><span class="o">=</span><span class="s1">&#39;yuv420p&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">get_linesizes</span><span class="p">(</span><span class="n">keep_align</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(100, 50, 50, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">get_buffer_size</span><span class="p">()</span>
<span class="go">(1000, 250, 250, 0)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># align to 32 bits</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">linesize</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">get_linesizes</span><span class="p">(</span><span class="n">keep_align</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">align</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">x</span> <span class="o">/</span> <span class="mf">32.</span><span class="p">)</span> <span class="o">*</span> <span class="mi">32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">linesize</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="n">align</span><span class="p">,</span> <span class="n">linesize</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">linesize</span>
<span class="go">[128, 64, 64, 0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">pix_fmt</span><span class="o">=</span><span class="s1">&#39;yuv420p&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">),</span> <span class="n">linesize</span><span class="o">=</span><span class="n">linesize</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">get_linesizes</span><span class="p">(</span><span class="n">keep_align</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(128, 64, 64, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">get_buffer_size</span><span class="p">(</span><span class="n">keep_align</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(1280, 320, 320, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">get_buffer_size</span><span class="p">()</span>
<span class="go">(1000, 250, 250, 0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="ffpyplayer.pic.Image.get_linesizes">
<code class="descname">get_linesizes</code><span class="sig-paren">(</span><em>self</em>, <em>keep_align=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ffpyplayer.pic.Image.get_linesizes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the linesize of each plane.</p>
<p>The linesize is the actual number of bytes in each horizontal line for a given plane,
which may be padded at the end to satisfy some alignment requirement.
For example, a RGB24 frame of size <code class="docutils literal"><span class="pre">(100,</span> <span class="pre">10)</span></code> will have <code class="docutils literal"><span class="pre">3</span> <span class="pre">*</span> <span class="pre">100</span> <span class="pre">=</span> <span class="pre">300</span></code>
bytes in each line and will be 3000 bytes large. But, when 32 bit
alignment is required, the buffer will have to padded at the end so
that each line is 320 bytes, and the total buffer length is 3200 bytes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><cite>keep_align</cite>: bool</dt>
<dd><p class="first last">If True, the original linesize alignments of the image will be returned for
every plane. If False, linesize with an alignment of 1 (i.e. no alignment)
will be used, returning the minimal linesize required to for the image.
Defaults to False.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><dl class="docutils">
<dt>4-tuple of ints:</dt>
<dd><p class="first last">A 4 tuple with the linesizes of each plane. If the plane isn&#8217;t used
it&#8217;ll be 0.</p>
</dd>
</dl>
</p>
</td>
</tr>
</tbody>
</table>
<p>By defaults there&#8217;s no alignment:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">plane_buffers</span><span class="o">=</span><span class="p">[</span><span class="nb">bytes</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">w</span> <span class="o">*</span> <span class="n">h</span> <span class="o">*</span> <span class="mi">3</span><span class="p">)],</span>
<span class="gp">... </span><span class="n">pix_fmt</span><span class="o">=</span><span class="s1">&#39;rgb24&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">get_linesizes</span><span class="p">(</span><span class="n">keep_align</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(300, 0, 0, 0)</span>
</pre></div>
</div>
<p>You can force alignment e.g. 32 bits alignment:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">math</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">linesize</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">w</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">/</span> <span class="mf">32.</span><span class="p">)</span> <span class="o">*</span> <span class="mi">32</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">linesize</span>
<span class="go">[320]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">plane_buffers</span><span class="o">=</span><span class="p">[</span><span class="nb">bytes</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">h</span> <span class="o">*</span> <span class="n">linesize</span><span class="p">[</span><span class="mi">0</span><span class="p">])],</span>
<span class="gp">... </span><span class="n">pix_fmt</span><span class="o">=</span><span class="s1">&#39;rgb24&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">),</span> <span class="n">linesize</span><span class="o">=</span><span class="n">linesize</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">get_linesizes</span><span class="p">(</span><span class="n">keep_align</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(320, 0, 0, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">get_size</span><span class="p">()</span>
<span class="go">(100, 10)</span>
</pre></div>
</div>
<p>The linesizes of an unaligned and 32 bit aligned yuv420p image:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">pix_fmt</span><span class="o">=</span><span class="s1">&#39;yuv420p&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">get_linesizes</span><span class="p">(</span><span class="n">keep_align</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(100, 50, 50, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">get_size</span><span class="p">()</span>
<span class="go">(100, 10)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># now try align to 32 bit</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">linesize</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">get_linesizes</span><span class="p">(</span><span class="n">keep_align</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">align</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">x</span> <span class="o">/</span> <span class="mf">32.</span><span class="p">)</span> <span class="o">*</span> <span class="mi">32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">linesize</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="n">align</span><span class="p">,</span> <span class="n">linesize</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">linesize</span>
<span class="go">[128, 64, 64, 0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">pix_fmt</span><span class="o">=</span><span class="s1">&#39;yuv420p&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">),</span> <span class="n">linesize</span><span class="o">=</span><span class="n">linesize</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">get_linesizes</span><span class="p">(</span><span class="n">keep_align</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(128, 64, 64, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">get_linesizes</span><span class="p">()</span>
<span class="go">(100, 50, 50, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">get_size</span><span class="p">()</span>
<span class="go">(100, 10)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="ffpyplayer.pic.Image.get_pixel_format">
<code class="descname">get_pixel_format</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ffpyplayer.pic.Image.get_pixel_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the pixel format of the image. Can be one of
<a class="reference internal" href="tools.html#ffpyplayer.tools.pix_fmts" title="ffpyplayer.tools.pix_fmts"><code class="xref py py-attr docutils literal"><span class="pre">ffpyplayer.tools.pix_fmts</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">str: The pixel format of the image.</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">get_pixel_format</span><span class="p">()</span>
<span class="go">&#39;rgb24&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="ffpyplayer.pic.Image.get_required_buffers">
<code class="descname">get_required_buffers</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ffpyplayer.pic.Image.get_required_buffers" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a 4 tuple of booleans indicating which of the 4 planes are required
(i.e. even if get_buffer_size is non-zero for that plane it may still be
optional).</p>
</dd></dl>

<dl class="method">
<dt id="ffpyplayer.pic.Image.get_size">
<code class="descname">get_size</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ffpyplayer.pic.Image.get_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the size of the frame.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">2-tuple of ints: The size of the frame as <code class="docutils literal"><span class="pre">(width,</span> <span class="pre">height)</span></code>.</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">get_size</span><span class="p">()</span>
<span class="go">(640, 480)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="ffpyplayer.pic.Image.is_ref">
<code class="descname">is_ref</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ffpyplayer.pic.Image.is_ref" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether the image buffer is FFmpeg referenced. This can only be
True when the buffers were allocated internally or by FFmpeg bit not when
<code class="docutils literal"><span class="pre">plane_buffers</span></code> is provided. See <a class="reference internal" href="#ffpyplayer.pic.Image" title="ffpyplayer.pic.Image"><code class="xref py py-class docutils literal"><span class="pre">Image</span></code></a> for details. After a copy,
it will always returns True.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">bool: True if the buffer is FFmpeg referenced.</td>
</tr>
</tbody>
</table>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">640</span><span class="p">,</span> <span class="mi">480</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">plane_buffers</span><span class="o">=</span><span class="p">[</span><span class="nb">bytes</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">w</span> <span class="o">*</span> <span class="n">h</span> <span class="o">*</span> <span class="mi">3</span><span class="p">)],</span> <span class="n">pix_fmt</span><span class="o">=</span><span class="s1">&#39;rgb24&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">is_ref</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">copy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span><span class="o">.</span><span class="n">is_ref</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Or if directly allocated internally:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">pix_fmt</span><span class="o">=</span><span class="s1">&#39;rgb24&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">is_ref</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="ffpyplayer.pic.Image.to_bytearray">
<code class="descname">to_bytearray</code><span class="sig-paren">(</span><em>self</em>, <em>keep_align=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ffpyplayer.pic.Image.to_bytearray" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the plane buffers as bytearrays.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><cite>keep_align</cite>: bool</dt>
<dd><p class="first last">If True, the buffer for each plane will be padded after each horizontal
line to match the linesize of its plane in this image. If False, an
alignment of 1 (i.e. no alignment) will be used, returning the
maximially packed buffer of this plane. Defaults to False.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">4-element list: A list of bytearray buffers for each plane of this
pixel format. An empty bytearray is returned for unused planes.</p>
</td>
</tr>
</tbody>
</table>
<p>Get the buffer of an RGB image:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">pix_fmt</span><span class="o">=</span><span class="s1">&#39;rgb24&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">get_linesizes</span><span class="p">(</span><span class="n">keep_align</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(300, 0, 0, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="n">img</span><span class="o">.</span><span class="n">to_bytearray</span><span class="p">())</span>
<span class="go">[3000, 0, 0, 0]</span>
</pre></div>
</div>
<p>Get the buffers of a YUV420P image:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">pix_fmt</span><span class="o">=</span><span class="s1">&#39;yuv420p&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">linesize</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">get_linesizes</span><span class="p">(</span><span class="n">keep_align</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">linesize</span>
<span class="go">(100, 50, 50, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">align</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">x</span> <span class="o">/</span> <span class="mf">32.</span><span class="p">)</span> <span class="o">*</span> <span class="mi">32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">linesize</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="n">align</span><span class="p">,</span> <span class="n">linesize</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">linesize</span>
<span class="go">[128, 64, 64, 0]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">pix_fmt</span><span class="o">=</span><span class="s1">&#39;yuv420p&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">),</span> <span class="n">linesize</span><span class="o">=</span><span class="n">linesize</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="n">img</span><span class="o">.</span><span class="n">to_bytearray</span><span class="p">())</span>
<span class="go">[1000, 250, 250, 0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">map</span><span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="n">img</span><span class="o">.</span><span class="n">to_bytearray</span><span class="p">(</span><span class="n">keep_align</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>
<span class="go">[1280, 320, 320, 0]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># now initialize a new Image with it</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">plane_buffers</span><span class="o">=</span><span class="n">img</span><span class="o">.</span><span class="n">to_bytearray</span><span class="p">(),</span>
<span class="gp">... </span><span class="n">pix_fmt</span><span class="o">=</span><span class="n">img</span><span class="o">.</span><span class="n">get_pixel_format</span><span class="p">(),</span> <span class="n">size</span><span class="o">=</span><span class="n">img</span><span class="o">.</span><span class="n">get_size</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span><span class="o">.</span><span class="n">get_buffer_size</span><span class="p">(</span><span class="n">keep_align</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(1000, 250, 250, 0)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># keep alignment</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">plane_buffers</span><span class="o">=</span><span class="n">img</span><span class="o">.</span><span class="n">to_bytearray</span><span class="p">(</span><span class="n">keep_align</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span>
<span class="gp">... </span><span class="n">pix_fmt</span><span class="o">=</span><span class="n">img</span><span class="o">.</span><span class="n">get_pixel_format</span><span class="p">(),</span> <span class="n">size</span><span class="o">=</span><span class="n">img</span><span class="o">.</span><span class="n">get_size</span><span class="p">(),</span>
<span class="gp">... </span><span class="n">linesize</span><span class="o">=</span><span class="n">img</span><span class="o">.</span><span class="n">get_linesizes</span><span class="p">(</span><span class="n">keep_align</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span><span class="o">.</span><span class="n">get_buffer_size</span><span class="p">(</span><span class="n">keep_align</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(1280, 320, 320, 0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="ffpyplayer.pic.Image.to_memoryview">
<code class="descname">to_memoryview</code><span class="sig-paren">(</span><em>self</em>, <em>keep_align=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ffpyplayer.pic.Image.to_memoryview" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a memoryviews of the buffers of the image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><cite>keep_align</cite>: bool</dt>
<dd><p class="first last">If True, the buffers of the original image will be returned
without making any additional copies. If False, then if the
image alignment is already 1, the original buffers will be
returned, otherwise, new buffers will be created with an
alignment of 1 and the buffers will be copied into them
and returned. See <a class="reference internal" href="#ffpyplayer.pic.Image.to_bytearray" title="ffpyplayer.pic.Image.to_bytearray"><code class="xref py py-meth docutils literal"><span class="pre">to_bytearray()</span></code></a>.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt>4-element list:</dt>
<dd><p class="first">A list of cython arrays for each plane of this
image&#8217;s pixel format. If the data didn&#8217;t have to be copied, the
arrays point directly to the original image data. The arrays
can be used where memoryviews are accepted, since cython arrays
implement the memoryview interface.</p>
<p class="last">Unused planes are set to None.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If the data points to the original image data, you must ensure
that this <a class="reference internal" href="#ffpyplayer.pic.Image" title="ffpyplayer.pic.Image"><code class="xref py py-class docutils literal"><span class="pre">Image</span></code></a> instance does not go out of memory
while the returned memoryviews of the arrays are in use. Otherwise when
the <a class="reference internal" href="#ffpyplayer.pic.Image" title="ffpyplayer.pic.Image"><code class="xref py py-class docutils literal"><span class="pre">Image</span></code></a> goes out of memory, the original data will become
invalid and usage of the returned memoryviews of them will crash python.</p>
</div>
<p>Get the buffer of an RGB image:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">pix_fmt</span><span class="o">=</span><span class="s1">&#39;rgb24&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">get_linesizes</span><span class="p">(</span><span class="n">keep_align</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(300, 0, 0, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">to_memoryview</span><span class="p">()</span>
<span class="go">[&lt;ffpyplayer.pic.array object at 0x055DCE58&gt;, None, None, None]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">to_memoryview</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># memview is the only attribute of cython arrays</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span><span class="o">.</span><span class="n">memview</span>
<span class="go">&lt;MemoryView of &#39;array&#39; at 0x55d1468&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span><span class="o">.</span><span class="n">memview</span><span class="o">.</span><span class="n">size</span>
<span class="go">3000</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ffpyplayer.pic.SWScale">
<em class="property">class </em><code class="descclassname">ffpyplayer.pic.</code><code class="descname">SWScale</code><a class="headerlink" href="#ffpyplayer.pic.SWScale" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Converts Images from one format and size to another format and size.</p>
<p>The class accepts an Image of a given pixel format and size and converts it
to another Image with a different pixel format and size. Each SWScale instance
converts only images with parameters specified when creating the instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><cite>iw, ih</cite>: int</dt>
<dd><p class="first last">The width and height of the source image.</p>
</dd>
<dt><cite>ifmt</cite>: str</dt>
<dd><p class="first last">The pixel format of the source image. Can be one of
<a class="reference internal" href="tools.html#ffpyplayer.tools.pix_fmts" title="ffpyplayer.tools.pix_fmts"><code class="xref py py-attr docutils literal"><span class="pre">ffpyplayer.tools.pix_fmts</span></code></a>.</p>
</dd>
<dt><cite>ow, oh</cite>: int</dt>
<dd><p class="first last">The width and height of the output image after converting from the
source image. A value of 0 will set that parameter to the source
height/width. A value of -1 for one of the parameters, will result in
a value of that parameter that maintains the original aspect ratio.
Defaults to -1.</p>
</dd>
<dt><cite>ofmt</cite>: str</dt>
<dd><p class="first last">The pixel format of the output image. Can be one of
<a class="reference internal" href="tools.html#ffpyplayer.tools.pix_fmts" title="ffpyplayer.tools.pix_fmts"><code class="xref py py-attr docutils literal"><span class="pre">ffpyplayer.tools.pix_fmts</span></code></a>. If empty, the source pixel format
will be used. Defaults to empty string.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">100</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">size</span> <span class="o">=</span> <span class="n">w</span> <span class="o">*</span> <span class="n">h</span> <span class="o">*</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">buf</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">([</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="mi">255</span> <span class="o">/</span> <span class="n">size</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">size</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">plane_buffers</span><span class="o">=</span><span class="p">[</span><span class="n">buf</span><span class="p">],</span> <span class="n">pix_fmt</span><span class="o">=</span><span class="s1">&#39;rgb24&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># specify output w,h</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sws</span> <span class="o">=</span> <span class="n">SWScale</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">img</span><span class="o">.</span><span class="n">get_pixel_format</span><span class="p">(),</span> <span class="n">ow</span><span class="o">=</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">oh</span><span class="o">=</span><span class="n">h</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span> <span class="o">=</span> <span class="n">sws</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span><span class="o">.</span><span class="n">get_size</span><span class="p">()</span>
<span class="go">(250, 33)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># use input height</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sws</span> <span class="o">=</span> <span class="n">SWScale</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">img</span><span class="o">.</span><span class="n">get_pixel_format</span><span class="p">(),</span> <span class="n">ow</span><span class="o">=</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">oh</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span> <span class="o">=</span> <span class="n">sws</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span><span class="o">.</span><span class="n">get_size</span><span class="p">()</span>
<span class="go">(250, 100)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># keep aspect ratio</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sws</span> <span class="o">=</span> <span class="n">SWScale</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">img</span><span class="o">.</span><span class="n">get_pixel_format</span><span class="p">(),</span> <span class="n">ow</span><span class="o">=</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span> <span class="o">=</span> <span class="n">sws</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span><span class="o">.</span><span class="n">get_size</span><span class="p">()</span>
<span class="go">(250, 50)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># convert rgb24 to yuv420p</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sws</span> <span class="o">=</span> <span class="n">SWScale</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">img</span><span class="o">.</span><span class="n">get_pixel_format</span><span class="p">(),</span> <span class="n">ofmt</span><span class="o">=</span><span class="s1">&#39;yuv420p&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span> <span class="o">=</span> <span class="n">sws</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span><span class="o">.</span><span class="n">get_pixel_format</span><span class="p">()</span>
<span class="go">&#39;yuv420p&#39;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># convert into a previously allocated and aligned image</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">math</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">align</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">x</span> <span class="o">/</span> <span class="mf">32.</span><span class="p">)</span> <span class="o">*</span> <span class="mi">32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">pix_fmt</span><span class="o">=</span><span class="n">img</span><span class="o">.</span><span class="n">get_pixel_format</span><span class="p">(),</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">h</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span><span class="o">.</span><span class="n">get_linesizes</span><span class="p">(</span><span class="n">keep_align</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(750, 0, 0, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">linesize</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="n">align</span><span class="p">,</span> <span class="n">img2</span><span class="o">.</span><span class="n">get_linesizes</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">linesize</span>
<span class="go">[768, 0, 0, 0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span> <span class="o">=</span> <span class="n">Image</span><span class="p">(</span><span class="n">pix_fmt</span><span class="o">=</span><span class="n">img2</span><span class="o">.</span><span class="n">get_pixel_format</span><span class="p">(),</span> <span class="n">size</span><span class="o">=</span><span class="n">img2</span><span class="o">.</span><span class="n">get_size</span><span class="p">(),</span> <span class="n">linesize</span><span class="o">=</span><span class="n">linesize</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span><span class="o">.</span><span class="n">get_linesizes</span><span class="p">(</span><span class="n">keep_align</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(768, 0, 0, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sws</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">dst</span><span class="o">=</span><span class="n">img2</span><span class="p">)</span>
<span class="go">&lt;ffpyplayer.pic.Image object at 0x02B44440&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img2</span>
<span class="go">&lt;ffpyplayer.pic.Image object at 0x02B44440&gt;</span>
</pre></div>
</div>
<dl class="method">
<dt id="ffpyplayer.pic.SWScale.scale">
<code class="descname">scale</code><span class="sig-paren">(</span><em>self</em>, <em>Image src</em>, <em>Image dst=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ffpyplayer.pic.SWScale.scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Scales a image into another image format and/or size as specified by the
instance initialization parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><cite>src</cite>: <a class="reference internal" href="#ffpyplayer.pic.Image" title="ffpyplayer.pic.Image"><code class="xref py py-class docutils literal"><span class="pre">Image</span></code></a></dt>
<dd><p class="first last">A image instance with values matching the source image specification
of this instance. An exception is raised if the Image doesn&#8217;t match.
It will be used as the source image.</p>
</dd>
<dt><cite>dst</cite>: <a class="reference internal" href="#ffpyplayer.pic.Image" title="ffpyplayer.pic.Image"><code class="xref py py-class docutils literal"><span class="pre">Image</span></code></a> or None</dt>
<dd><p class="first last">A image instance with values matching the output image specification
of this instance. An exception is raised if the Image doesn&#8217;t match.
If specified, the output image will be converted directly into this Image.
If not specified, a new Image will be created and returned.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><dl class="docutils">
<dt><a class="reference internal" href="#ffpyplayer.pic.Image" title="ffpyplayer.pic.Image"><code class="xref py py-class docutils literal"><span class="pre">Image</span></code></a>:</dt>
<dd><p class="first last">The output image. If <code class="docutils literal"><span class="pre">dst</span></code> was not None <code class="docutils literal"><span class="pre">dst</span></code> will be returned,
otherwise a new image containing the converted image will be returned.</p>
</dd>
</dl>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ffpyplayer.pic.get_image_size">
<code class="descclassname">ffpyplayer.pic.</code><code class="descname">get_image_size</code><span class="sig-paren">(</span><em>pix_fmt</em>, <em>width</em>, <em>height</em><span class="sig-paren">)</span><a class="headerlink" href="#ffpyplayer.pic.get_image_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the size in bytes of the buffers of each plane of an image with a
given pixel format, width, and height.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><cite>pix_fmt</cite>: str</dt>
<dd><p class="first last">The pixel format in which the image is represented. Can be one of
<a class="reference internal" href="tools.html#ffpyplayer.tools.pix_fmts" title="ffpyplayer.tools.pix_fmts"><code class="xref py py-attr docutils literal"><span class="pre">pix_fmts</span></code></a>.</p>
</dd>
<dt><cite>width</cite>: int</dt>
<dd><p class="first last">The width of the image.</p>
</dd>
<dt><cite>height</cite>: int</dt>
<dd><p class="first last">The height of the image.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><dl class="docutils">
<dt><cite>4-tuple of ints</cite>:</dt>
<dd><p class="first last">A tuple of buffer sizes in bytes for each plane of this pixel format
required to store the image. Unused planes are zero.</p>
</dd>
</dl>
</p>
</td>
</tr>
</tbody>
</table>
<p>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">get_image_size</span><span class="p">(</span><span class="s1">&#39;rgb24&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="go">(30000, 0, 0, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">get_image_size</span><span class="p">(</span><span class="s1">&#39;yuv420p&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="go">(10000, 2500, 2500, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">get_image_size</span><span class="p">(</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="go">(10000, 1024, 0, 0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="ffpyplayer.pic.ImageLoader">
<em class="property">class </em><code class="descclassname">ffpyplayer.pic.</code><code class="descname">ImageLoader</code><a class="headerlink" href="#ffpyplayer.pic.ImageLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Class that reads one or more images from a file and returns them.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><cite>filename</cite>: string type</dt>
<dd><p class="first last">The full path to the image file. The string will first be encoded
using utf8 before passing to FFmpeg.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p>For example, reading a simple png using the iterator syntax:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">ImageLoader</span><span class="p">(</span><span class="s1">&#39;file.png&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">images</span> <span class="o">=</span> <span class="p">[</span><span class="n">m</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">img</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">images</span>
<span class="go">[(&lt;ffpyplayer.pic.Image object at 0x02B5F5D0&gt;, 0.0)]</span>
</pre></div>
</div>
<p>Or reading it directly:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">ImageLoader</span><span class="p">(</span><span class="s1">&#39;file.png&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">next_frame</span><span class="p">()</span>
<span class="go">(&lt;ffpyplayer.pic.Image object at 0x02B74850&gt;, 0.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">next_frame</span><span class="p">()</span>
<span class="go">(None, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">next_frame</span><span class="p">()</span>
<span class="go">(None, 0)</span>
</pre></div>
</div>
<p>Or reading a gif using the iterator syntax:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">ImageLoader</span><span class="p">(</span><span class="s1">&#39;sapo11.gif&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">images</span> <span class="o">=</span> <span class="p">[</span><span class="n">m</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">img</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">images</span>
<span class="go">[(&lt;ffpyplayer.pic.Image object at 0x02B749B8&gt;, 0.0),</span>
<span class="go">(&lt;ffpyplayer.pic.Image object at 0x02B74918&gt;, 0.08),</span>
<span class="go">(&lt;ffpyplayer.pic.Image object at 0x02B74990&gt;, 0.22),</span>
<span class="go">(&lt;ffpyplayer.pic.Image object at 0x02B749E0&gt;, 0.36),</span>
<span class="go">(&lt;ffpyplayer.pic.Image object at 0x02B74A08&gt;, 0.41000000000000003),</span>
<span class="go">(&lt;ffpyplayer.pic.Image object at 0x02B74A30&gt;, 0.46),</span>
<span class="go">(&lt;ffpyplayer.pic.Image object at 0x02B74A58&gt;, 0.51)]</span>
</pre></div>
</div>
<p>Or reading it directly:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">ImageLoader</span><span class="p">(</span><span class="s1">&#39;sapo11.gif&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">next_frame</span><span class="p">()</span>
<span class="go">(&lt;ffpyplayer.pic.Image object at 0x02B74B70&gt;, 0.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">next_frame</span><span class="p">()</span>
<span class="go">(&lt;ffpyplayer.pic.Image object at 0x02B74C60&gt;, 0.08)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">next_frame</span><span class="p">()</span>
<span class="go">(&lt;ffpyplayer.pic.Image object at 0x02B74B70&gt;, 0.51)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">next_frame</span><span class="p">()</span>
<span class="go">(None, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">img</span><span class="o">.</span><span class="n">next_frame</span><span class="p">()</span>
<span class="go">(None, 0)</span>
</pre></div>
</div>
<dl class="method">
<dt id="ffpyplayer.pic.ImageLoader.next_frame">
<code class="descname">next_frame</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#ffpyplayer.pic.ImageLoader.next_frame" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the next available frame, or <cite>(None, 0)</cite> if there are no
more frames available.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a 2-tuple of <cite>(:class:`Image</cite>, pts)`:
Where the first element is the next image to be displayed and <cite>pts</cite>
is the time, relative to the first frame, when to display it e.g. in
the case of a gif.<p>If we reached the eof of the file and there are no more frames
to be returned, it returns <cite>(None, 0)</cite>.</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Both <a class="reference internal" href="#ffpyplayer.pic.ImageLoader.next_frame" title="ffpyplayer.pic.ImageLoader.next_frame"><code class="xref py py-meth docutils literal"><span class="pre">next_frame()</span></code></a> and the iterator syntax read the frames
identically. Consequently, calling one, will also advance the frame
for the other.</p>
</div>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">FFPyPlayer</a></h1>





<p>
<iframe src="https://ghbtns.com/github-btn.html?user=matham&repo=ffpyplayer&type=watch&count=true&size=large"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>




<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="api.html">The FFPyPlayer API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="player.html">Player</a></li>
<li class="toctree-l2"><a class="reference internal" href="writer.html">Writer</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Images</a></li>
<li class="toctree-l2"><a class="reference internal" href="tools.html">Tools</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="api.html">The FFPyPlayer API</a><ul>
      <li>Previous: <a href="writer.html" title="previous chapter">Writer</a></li>
      <li>Next: <a href="tools.html" title="next chapter">Tools</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/pic.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2013, Matthew Einhorn.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
      |
      <a href="_sources/pic.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/matham/ffpyplayer" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>